### Декораторы

Декоратор - функция, которая в качестве параметра и результата использует функции.  
Декораторы позволяют модифицировать выполняемую функцию, значения ее параметров и ее результат без изменения исходного кода этой функции.


```python
# определение декоратора select
def select(input_func):    
    def output_func():      # определяем функцию, которая будет выполняться вместо оригинальной
        print("*****************")  # перед выводом оригинальной функции выводим звездочки
        input_func()                # вызов оригинальной функции
        print("*****************")  # после вывода оригинальной функции выводим звездочки
    return output_func     # возвращаем новую функцию
 
# определение оригинальной функции
@select         # К этой функции применяется декоратор select
def hello():
    print("Hello METANIT.COM")
 
# вызов оригинальной функции
hello()
```

#### Использование агрументов вызова декорируемой функции

Декоратор может использовать аргументы вызова декорируемой функции:

```python
# определение декоратора check
def check(input_func):   
    # через *args получаем значения параметров оригинальной функции
    def output_func(*args):      
        # здесь можно изменить значения аргументов 
        # или, как здесь использовать оригинальный набор аргументов
        input_func(*args)                # вызов оригинальной функции input_func
    return output_func     # возвращаем модифицированную функцию
 
# определение оригинальной функции
@check              # К этой функции применяется декоратор check(
def print_person(name, age):
    print(f"Name: {name}  Age: {age}")
 
# вызов оригинальной функции
print_person("Tom", 38)
```

```python
# определение функции декоратора
def check(input_func):    
    def output_func(*args):
        # можно изменить значения аргументов 
        name = args[0]
        age = args[1]           
        if age < 0: age = 1     # если возраст отрицательный, изменяем его значение на 1
        input_func(name, age)   # передаем оригинальной функции значения
    return output_func
 
# определение оригинальной функции
@check
def print_person(name, age):
    print(f"Name: {name}  Age: {age}")
 
# вызов оригинальной функции
print_person("Tom", 38) # Name: Tom  Age: 38
print_person("Bob", -5) # Name: Bob  Age: 1
```

#### Исползование результата вызова декорируемой функции

Можно получить результат вызова декорируемой функции и при необходимости изменить его:

```python
# определение функции декоратора
def check(input_func):    
    def output_func(*args):
        result = input_func(*args)   # передаем функции значения для параметров
        if result < 0: result = 0   # если результат функции меньше нуля, то возвращаем 0
        return result
    return output_func
 
# определение оригинальной функции
@check
def sum(a, b):
    return a + b
 
# вызов оригинальной функции
result1 = sum(10, 20)
print(result1)          # 30
 
result2 = sum(10, -20)
print(result2)          # 0
```